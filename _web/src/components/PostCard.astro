---
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { title, date, tags, description, type } = post.data;
---

<article class="mb-8 pb-8 border-b border-gray-200 last:border-b-0">
  <header class="mb-4">
    <h2 class="text-xl font-bold mb-2">
      <a href={`${import.meta.env.BASE_URL}/blog/${post.id}`} class="hover:underline">
        {title}
      </a>
    </h2>
    <div class="text-sm text-gray-600 mb-2">
      <time datetime={date.toISOString()}>
        {date.toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'short', 
          day: 'numeric' 
        })}
      </time>
      <span class="mx-2">•</span>
      <span class="capitalize">{type}</span>
    </div>
    {tags.length > 0 && (
      <div class="flex flex-wrap gap-1">
        {tags.map(tag => (
          <a 
            href={`${import.meta.env.BASE_URL}/tags/${tag}`} 
            class="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded hover:bg-gray-200"
          >
            #{tag}
          </a>
        ))}
      </div>
    )}
  </header>
  {description && (
    <p class="text-gray-700 mb-4">{description}</p>
  )}
  <a href={`/blog/${post.id}`} class="text-blue-600 hover:underline text-sm">
    Read more →
  </a>
</article>
